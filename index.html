<!--
author: W3layouts
author URL: http://w3layouts.com
License: Creative Commons Attribution 3.0 Unported
License URL: http://creativecommons.org/licenses/by/3.0/
-->
<!DOCTYPE html>
<html lang="zxx">

<head>
    <title>Searchspring Shop</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="keywords" content="Downy Shoes Responsive web template, Bootstrap Web Templates, Flat Web Templates, Android Compatible web template,
Smartphone Compatible web template, free webdesigns for Nokia, Samsung, LG, SonyEricsson, Motorola web design"/>
    <script type="application/x-javascript">
        addEventListener("load", function () {
            setTimeout(hideURLbar, 0);
        }, false);

        function hideURLbar() {
            window.scrollTo(0, 1);
        }
    </script>
    <!-- custom-theme -->
    <link href="css/bootstrap.css" rel="stylesheet" type="text/css" media="all"/>
    <link rel="stylesheet" href="css/shop.css" type="text/css" media="screen" property=""/>
    <link href="css/style7.css" rel="stylesheet" type="text/css" media="all"/>
    <!-- Owl-carousel-CSS -->
    <link rel="stylesheet" type="text/css" href="css/jquery-ui1.css">
    <link href="css/style.css" rel="stylesheet" type="text/css" media="all"/>
    <!-- font-awesome-icons -->
    <link href="css/font-awesome.css" rel="stylesheet">
    <link href="//fonts.googleapis.com/css?family=Montserrat:100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800"
          rel="stylesheet">
    <link href="//fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i,800" rel="stylesheet">
</head>

<body>
<!-- banner -->
<div class="banner_top innerpage" id="home">
    <div class="wrapper_top_w3layouts">
        <div class="header_agileits">
            <div class="logo inner_page_log">
                <h1><a class="navbar-brand"><span>Searchspring</span> <i>Shop</i></a></h1>
            </div>
        </div>
    </div>
    <!-- search -->
    <div class="search_w3ls_agileinfo">
        <!-- before clicking -->
        <div class="cd-main-header">
            <ul class="cd-header-buttons">
                <li><a class="cd-search-trigger" href="#cd-search"> <span></span></a></li>
            </ul>
        </div>
        <!-- after clicking -->
        <div id="cd-search" class="cd-search">
            <div class="search-hotel">
                <form action="#" method="post">
                    <input id="search" name="Search" type="search" placeholder="Search Product">
                    <input id="submit" type="submit" value="">
                </form>
            </div>
        </div>
    </div><!-- //search -->
</div><!-- //banner -->

<!-- Top Pagination -->
<div class="main-pagination">
    <nav aria-label="Page navigation">
        <ul class="pagination pagination-lg">
        </ul>
    </nav>
</div>

<!-- Main Content -->
<div class="ads-grid_shop">
    <div class="wrapper_top_shop">
        <div class="product-sec1"></div>
    </div>
    <div class="clearfix"></div>
</div>

<!-- Bottom Pagination -->
<div class="main-pagination">
    <nav aria-label="Page navigation">
        <ul class="pagination pagination-lg">
        </ul>
    </nav>
</div>

<!-- footer -->
<div class="footer_agileinfo_w3">
    <div class="footer_inner_info_w3ls_agileits">
        <!--About SS-->
        <div class="about-ss col-4 sign-gd-two">
            <h4>Searchspring <span>Shop</span></h4>
            <p>Searchspring gives ecommerce teams search and merchandising superpowers. By automating and simplifying
                complex business processes, from analytics to merchandising, we make it easier to run your business, and
                save you time and money.</p>
            <ul class="social-nav model-3d-0 footer-social social two">
                <li>
                    <a href="https://www.facebook.com/Searchspring/" class="facebook">
                        <div class="front"><i class="fa fa-facebook" aria-hidden="true"></i></div>
                        <div class="back"><i class="fa fa-facebook" aria-hidden="true"></i></div>
                    </a>
                </li>
                <li>
                    <a href="https://twitter.com/SearchSpring" class="twitter">
                        <div class="front"><i class="fa fa-twitter" aria-hidden="true"></i></div>
                        <div class="back"><i class="fa fa-twitter" aria-hidden="true"></i></div>
                    </a>
                </li>
                <li>
                    <a href="https://www.linkedin.com/company/searchspring/" class="linkedin">
                        <div class="front"><i class="fa fa-linkedin" aria-hidden="true"></i></div>
                        <div class="back"><i class="fa fa-linkedin" aria-hidden="true"></i></div>
                    </a>
                </li>
                <li>
                    <a href="https://searchspring.com/" class="searchspring">
                        <div class="front"><i class="fa fa-external-link" aria-hidden="true"></i></div>
                        <div class="back"><i class="fa fa-external-link" aria-hidden="true"></i></div>
                    </a>
                </li>
            </ul>
        </div>
        <!--Store Info-->
        <div class="store-info col-4 sign-gd-two">
            <h4>Store <span>Information</span></h4>
            <div class="address">
                <div class="address-grid">
                    <div class="address-left">
                        <i class="fa fa-phone" aria-hidden="true"></i>
                    </div>
                    <div class="address-right">
                        <h6>Phone Number</h6>
                        <p>719-594-4595</p>
                    </div>
                    <div class="clearfix"></div>
                </div>

                <div class="address-grid">
                    <div class="address-left">
                        <i class="fa fa-envelope" aria-hidden="true"></i>
                    </div>
                    <div class="address-right">
                        <h6>Email Address</h6>
                        <p><a href="mailto:example@email.com"> sales@searchspring.com</a></p>
                    </div>
                    <div class="clearfix"></div>
                </div>
                <div class="address-grid">
                    <div class="address-left">
                        <i class="fa fa-map-marker" aria-hidden="true"></i>
                    </div>
                    <div class="address-right">
                        <h6>Location</h6>
                        <p>122 E Houston St. Ste 105<br> San Antonio, TX. 78205
                        </p>
                    </div>
                    <div class="clearfix"></div>
                </div>
            </div>
        </div>
        <!--Created By-->
        <div class="our-info col-4 footer-right">
            <div class="sign-gd-two">
                <h4>Created <span>By</span></h4>
                <div class="address">
                    <div class="address-grid">
                        <div class="address-left">
                            <i class="fa fa-user" aria-hidden="true"></i>
                        </div>
                        <div class="address-right">
                            <h6>Vanessa Noriega</h6>
                        </div>
                        <div class="clearfix"></div>
                    </div>
                    <div class="address-grid">
                        <div class="address-left">
                            <i class="fa fa-envelope" aria-hidden="true"></i>
                        </div>
                        <div class="address-right">
                            <h6><a href="mailto:vanessa.p.noriega@gmail.com"> vanessa.p.noriega@gmail.com</a></h6>
                        </div>
                        <div class="clearfix"></div>
                    </div>
                    <div class="address-grid">
                        <div class="address-left">
                            <i class="fa fa-linkedin" aria-hidden="true"></i>
                        </div>
                        <div class="address-right">
                            <h6><a href="https://www.linkedin.com/in/vanessa-noriega/">LinkedIn</a></h6>
                        </div>
                        <div class="clearfix"></div>
                    </div>
                    <div class="address-grid">
                        <div class="address-left">
                            <i class="fa fa-github" aria-hidden="true"></i>
                        </div>
                        <div class="address-right">
                            <h6><a href="https://github.com/vpnoriega">GitHub</a></h6>
                        </div>
                        <div class="clearfix"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- //footer -->
<!--scroll to top-->
<a href="#home" id="toTop" class="scroll" style="display: block;"> <span id="toTopHover"
                                                                         style="opacity: 1;"> </span></a>
<!-- js -->
<script type="text/javascript" src="js/jquery-2.1.4.min.js"></script>
<!-- //js -->
<!-- nav -->
<script src="js/modernizr-2.6.2.min.js"></script>
<script src="js/classie.js"></script>
<script src="js/demo1.js"></script>
<!-- //nav -->
<!--search-bar-->
<script src="js/search.js"></script>
<!--//search-bar-->
<!-- start-smooth-scrolling -->
<script type="text/javascript" src="js/move-top.js"></script>
<script type="text/javascript" src="js/easing.js"></script>
<script src="/searchbar/keys.js"></script>
<script type="text/javascript">

    // !!! FOR DEVELOPMENT ONLY
    if (window.location.search.startsWith("?_ijt")) window.location.search = "";

    "use strict";

    const BASEURL = "https://api.searchspring.net/api/search/search.json?siteId=scmq7n&resultsFormat=native"
    const SITEURL = `${window.location.origin}${window.location.pathname}`

    let searchParams = new URLSearchParams(window.location.search)


    $(document).ready(function ($) {
        $(".scroll").click(function (event) {
            event.preventDefault();
            $('html,body').animate({
                scrollTop: $(this.hash).offset().top
            }, 1000);
        });

        getResults(window.location.search)
    });

    // getResults function checks condition of the parameter: searchParam, to call either a default response of "New Items" or a response of searched items that gets passed into the URL as a query string
    function getResults(searchParam) {
        let searchspringAPI = {
            url: `${BASEURL}`,
            method: "GET",
            timeout: 0,
        };

        // OR statement guards against random queries that are not permitted by Searchspring and returns default results of "new items"
        if (searchParam === ""  || !window.location.search.startsWith("?q")) {
            $.ajax(searchspringAPI).done(function (response) {
                response.results.forEach(function (result) {
                    renderResults(result);
                });
            });

            // else, replace the url searchParam after the ? to pass the searched query into the response
        } else {
            searchspringAPI.url = `${BASEURL}&${searchParam.substr(1)}` // "?q=pants"
            $.ajax(searchspringAPI).done(function (response) {
                $('.product-sec1').empty();
                response.results.forEach(function (result) {
                    renderResults(result);
                });
                renderPagination(response.pagination);

                // If search input is invalid, display "no results found" message
                let html = ""
                if (response.results.length === 0) {
                    html += `<div class="no-results-found">
						<span>OOPS! No results found for "${searchParam.substr(3)}!"</span>
						</div>`
                }
                $('.wrapper_top_shop').append(html);
            })
        }
    }

    //Function for displaying pagination buttons is using the URLSearchParam interface to utilize the utility methods that work with the query string of the URL, and enables pagination buttons
    function renderPagination(pagination) {
        let paginationHtml = "";
        if (pagination.totalPages === 1) return "";

        //add previous button <<
        deletePageParam(searchParams)
        paginationHtml += renderPreviousIcon(searchParams, pagination);

        // In between << and >>, include page numbers with a range of 2 greater and 2 less of than current page
        let start =  Math.max(1, pagination.currentPage - 2);
        let end = Math.min(pagination.currentPage + 2, pagination.totalPages);

        for (let i = start ; i <= end; i++) {

            deletePageParam(searchParams)
            searchParams.append("page", i.toString());

            // if user is on current page, enable "active" attribute on page link
            let activeItemClass = pagination.currentPage === i ? "active" : "";

            paginationHtml += `<li class="page-item ${activeItemClass}"><a class="page-link" href="${SITEURL}?${searchParams.toString()}">${i}</a></li>`
        }

        // add next button >>
        deletePageParam(searchParams)
        paginationHtml += renderForwardIcon(searchParams, pagination);

        $('ul.pagination').append(paginationHtml);
    }

    // Function to render << previous button only if page is not equal to 1
    function renderPreviousIcon(searchParams, pagination) {
        if (pagination.currentPage === 1) {
            return ""
        } else {
            return `<li class="page-item"><a class="page-link" href="${SITEURL}?${searchParams.toString()}&page=${pagination.previousPage}" aria-label="Previous" id="back-btn">
<span aria-hidden="true">&laquo;</span>
<span class="sr-only">Previous</span></a></li>`
        }
    }

    // Function to render >> forward button only if next page is not equal to 0
    function renderForwardIcon(searchParams, pagination) {
        if (pagination.nextPage === 0) {
            return ""
        } else {
            return `<li class="page-item"><a class="page-link" href="${SITEURL}?${searchParams.toString()}&page=${pagination.nextPage}" aria-label="Previous">
<span aria-hidden="true">&raquo;</span>
<span class="sr-only">Next</span></a></li>`
        }
    }

    //Function to display price if not undefined, display MSRP price crossed out if exists and is greater than price
    function renderResults(result) {
        let html = ""
        if (result.price === undefined) {
            html += `<div class="product-men">
							<div class="men-pro-item">
							<div class="men-thumb-item">
								<img alt="thumbnail-image" src="${result.thumbnailImageUrl}" onError="this.onerror=null;this.src='images/No-image-found.jpeg';"/>
							</div>
							<div class="item-info-product">
								<h4>${result.name}</h4>
									<div class="info-product-price">
										<h5 class="product_price"> Price:
											<span class="money">Not Listed</span>
										</h5>
									</div>
							</div>
							</div>
						</div>`
        } else if (result.msrp !== null && result.price < result.msrp) {
            html += `<div class="product-men">
							<div class="men-pro-item">
							<div class="men-thumb-item">
								<img alt="thumbnail-image" src="${result.thumbnailImageUrl}" onError="this.onerror=null;this.src='images/No-image-found.jpeg';"/>
							</div>
							<div class="item-info-product">
								<h4>${result.name}</h4>
									<div class="info-product-price">
										<h5 class="product_price"> Price:
											<span class="money">$${result.price}</span>
											<span class="money" id="msrp-price">$${result.msrp}</span>
										</h5>
									</div>
							</div>
							</div>
						</div>`
        } else {
            html += `<div class="product-men">
							<div class="men-pro-item">
								<div class="men-thumb-item">
									<img alt="thumbnail-image" src="${result.thumbnailImageUrl}" onError="this.onerror=null;this.src='images/No-image-found.jpeg';"/>
								</div>
							<div class="item-info-product">
								<h4>${result.name}</h4>
									<div class="info-product-price">
										<h5 class="product_price"> Price:
											<span class="money">$${result.price}</span>
										</h5>
									</div>
							</div>
							</div>
						</div>`
        }
        $('.product-sec1').append(html);
    }


    //function to delete page parameter when refreshing page to avoid duplicate page parameters
    function deletePageParam(searchParams){
        if (searchParams.has('page')) searchParams.delete("page");
    }

        //Search User Input
        $('#submit').click(function (e) {
            e.preventDefault();
            let searchInput = $('#search').val();

            //Check URL Search Params in window location to set query string as searchInput and request new results
            if ('URLSearchParams' in window) {
                deletePageParam(searchParams)

                searchParams.set("q", searchInput);
                window.location.search = searchParams.toString();
            }
        });
</script>
<!-- //end-smooth-scrolling -->
<script type="text/javascript" src="js/bootstrap-3.1.1.min.js"></script>
</body>
</html>